---
import Image from "astro/components/Image.astro";

import ExternalLinkIcon from "../icons/ExternalLinkIcon.astro";

const {
  id,
  title,
  subtitle,
  preHeading,
  heading,
  description,
  tag,
  color,
  cover,
  icon: Icon,
  textAlign = "left",
  footer = true,
  projectCta,
} = Astro.props;
---

<div
  class="rounded-2xl bg-red-500 flex flex-col justify-end items-start md:items-center w-full relative md:max-w-[450px]"
  style={{ background: color }}
  id={id}
>
  <div class="relative p-2 pb-20 w-full md:w-auto flex">
    {
      tag && (
        <div
          class="absolute px-4 py-1 rounded-br-xl"
          style={{ backgroundColor: color }}
        >
          <span class="text-[#ddd] text-xs uppercase font-bold">{tag}</span>
        </div>
      )
    }
    <div class="flex w-full justify-center">
      <Image
        src={cover}
        alt="Imagen cover del proyecto CentoApp."
        class="rounded-t-lg"
      />
    </div>
    <div class="px-4 pb-4 absolute bottom-0 left-0">
      {
        preHeading && (
          <span class="text-[rgba(250,250,250,.6)]">{preHeading}</span>
        )
      }
      <p
        class={`text-2xl font-bold leading-tight text-[#ddd] ${
          textAlign === "center" ? "text-center px-4" : "text-left pr-8"
        }`}
      >
        {heading}
      </p>
      <p
        class={`text-sm text-[rgba(250,250,250,0.7)] ${
          textAlign === "center" ? "text-center px-4" : "text-left pr-8"
        }`}
      >
        {description}
      </p>
    </div>
  </div>
  {
    footer && (
      <div class="flex flex-row p-4 gap-2 bg-[rgba(0,0,0,0.15)] w-full justify-between md:flex-row">
        <div class="flex gap-2 items-center">
          <div class="flex flex-shrink-0 items-center justify-center bg-[rgba(0,0,0,0.5)] w-14 h-14 rounded-lg">
            <Icon />
          </div>
          <div>
            <h3 class="text-[#ddd] font-bold">{title}</h3>
            <p class="text-xs text-[rgba(250,250,250,0.7)] pr-2">{subtitle}</p>
          </div>
        </div>
        <button
          class="btn-show-project flex items-center justify-center px-2 py-2 rounded-full text-xs font-medium text-[#ddd] gap-2 bg-[rgba(250,250,250,0.15)] px-6"
          aria-label="Mostrar Proyecto"
        >
          <!--ExternalLinkIcon /-->
          <span class="md:inline">{projectCta}</span>
        </button>
      </div>
    )
  }
</div>
