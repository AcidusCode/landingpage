---
import SectionTitle from "../molecules/SectionTitle.astro";
import InterSectionText from "../molecules/InterSectionText.astro";
import HighLightCard from "../organism/HighLightCard.astro";
import CtaButton from "../atoms/CtaButton.astro";
import CentoApp from "../projects/centoApp.astro";

import centoCover from "../../images/Mask group.png";
import CentoAppIcon from "../projects/centoapp/CentoAppIcon.astro";
---

<section class="sectionProjects flex flex-col py-8 gap-6 md:items-center md:pt-16" id="projectSection">
  <!--SectionTitle
    title="Proyectos Destacados"
    classTitle="titleProjects"
    description="Convirtiendo ideas en experiencias digitales"
    classDesc="descProjects"
  /-->
  <InterSectionText
    title="Proyectos Destacados"
    classTitle="titleProjects"
    description="Convirtiendo ideas en experiencias digitales"
    classDesc="descProjects"
    padding="20px"
  />
  <div class="cardProjects mx-6">
    <HighLightCard
      title="CentoApp"
      subtitle="Controla tus finanzas sin estrés"
      heading="Simplificando tus finanzas personales"
      description="Diseño de una experiencia de UX/UI intuitiva para ayudar a los usuarios a gestionar gastos y alcanzar sus metas de ahorro."
      tag="estrategia + diseño ux"
      color="#8100B1"
      cover={centoCover}
      icon={CentoAppIcon}
    />
  </div>
  <div class="flex justify-center">
    <CtaButton
      text="Transformemos tu presencia digital"
      ariaLabel="Transformemos tu presencia digital"
      color="#5105B5"
    />
  </div>
</section>

<div
  id="caso-overlay"
  class="hidden fixed pt-4 top-0 left-0 right-0 bottom-0 rounded-t-3xl bg-[rgba(0,0,0,.8)] z-150 flex items-start justify-center"
>
  <div
    id="caso-content"
    class="bg-[#202020] max-h-full overflow-y-auto rounded-t-xl p-6"
  >
    <button id="cerrar-overlay" class="text-right w-full text-sm text-gray-500">Cerrar</button>
    <div id="caso-detalle">
      <!-- Aquí se inyectará el contenido del caso -->
       <CentoApp />
    </div>
  </div>
</div>

<script>
  import gsap from "gsap";
  import ScrollTrigger from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: ".sectionProjects",
      start: "top 80%",
      toggleActions: "restart none none reset",
    },
  });

  tl.from(".titleProjects", {
    opacity: 0,
    scale: 0.8,
    duration: 1,
    ease: "sine.out",
  }).from(
    ".descProjects",
    {
      opacity: 0,
      scale: 0.9,
      duration: 1,
      ease: "sine.out",
    },
    "-=0.5"
  ).from(
    ".cardProjects",
    {
      opacity: 0,
      y: 20,
      duration: 1,
      ease: "sine.out",
    },
    "-=0.5"
  );;
</script>
