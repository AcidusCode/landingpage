---
import Image from "astro/components/Image.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
import InterSectionText from "../../components/molecules/InterSectionText.astro";
import SectionTitle from "../../components/molecules/SectionTitle.astro";
import CtaButton from "../../components/atoms/CtaButton.astro";

import centoCover from "../../images/centoapp/render_intro.png";
import competitionUI from "../../images/centoapp/competition-ui.png";
import competitionIcons from "../../images/centoapp/competition_icons.png";
import laptopEmoji from "../../images/Emojis/laptop.png";
import renderModes from "../../images/centoapp/render_modes.png";
import gridColors from "../../images/centoapp/grid_colors.png";
import centoAppIconImage from "../../images/centoapp/centoapp_icon_image.png";

import MyProcessCard from "../../components/organism/MyProcessCard.astro";
import FeaturesCard from "../../components/organism/FeaturesCard.astro";
const pageTitle = "CentoApp | Controla tus finanzas sin estr√©s";

import basicModeFeature1 from "../../images/centoapp/basic_mode_feature_1.png";
import basicModeFeature2 from "../../images/centoapp/basic_mode_feature_2.png";
import basicModeFeature3 from "../../images/centoapp/basic_mode_feature_3.png";

import advanceModeFeature1 from "../../images/centoapp/advance_mode_feature_1.png";
import advanceModeFeature2 from "../../images/centoapp/advance_mode_feature_2.png";
import advanceModeFeature3 from "../../images/centoapp/advance_mode_feature_3.png";

import renderLogin from "../../images/centoapp/render login.png";

import CentoAppIcon from "./centoapp/CentoAppIcon.astro";
import ExternalLinkIcon from "../icons/ExternalLinkIcon.astro";
import ManualSlider from "../organism/ManualSlider.astro";
import RocketIcon from "../icons/RocketIcon.astro";

import {CentoAppInterface} from "../../data/interfaces/projects/centoAppInterface"

import { getLangFromUrl } from "../../i18n/utils";
import CheckIcon from "../icons/CheckIcon.astro";

const lang = getLangFromUrl(Astro.url);
const allData = import.meta.glob<CentoAppInterface>("../../data/*/projects/centoData.json", {
  eager: true,
});
const matchedEntry = Object.entries(allData).find(([path]) =>
  path.includes(`/${lang}/`)
);
const content = matchedEntry?.[1] as CentoAppInterface;

---

<main class="flex flex-col items-center justify-center gap-12 pb-20">
  <!-- HERO -->
  <div class="relative flex flex-col items-center w-full bg-gradient-to-b from-purple-500 via-pink-500 to-[#8100B1] text-white shadow-lg">
    <Image
      src={centoCover}
      alt={content?.hero?.altHero}
      class="imageHeroProject mt-12 max-w-[500px]"
    />
    <div class="sticky flex flex-row p-4 gap-2 bg-[rgba(250,250,250,0.2)] w-full justify-between md:flex-row backdrop-blur-3xl">
      <div class="flex gap-2 items-center">
        <div class="flex items-center justify-center bg-[rgba(0,0,0,0.8)] w-14 h-14 rounded-lg">
          <CentoAppIcon />
        </div>
        <div>
          <h3 class="text-[#ddd] font-bold">{content?.hero?.projectName}</h3>
          <p class="text-xs text-[rgba(250,250,250,0.7)] pr-2">
            {content?.hero?.projectTagline}
          </p>
        </div>
      </div>
      <!--button class="btn-show-project flex items-center justify-center px-2 py-2 rounded-full text-xs font-medium text-[#ddd] gap-2 md:bg-[rgba(250,250,250,0.15)] md:px-8">
        <span class="hidden md:inline">{content?.hero?.viewProject}</span>
      </button-->
    </div>
  </div>

  <!-- PROBLEM -->
  <div class="flex flex-col gap-2 px-6">
    <h3 class="text-[#eee] font-semibold text-xl">{content?.theProblem?.title}</h3>
    <p class="text-[#959595] text-lg font-light">{content?.theProblem?.text}</p>
    <Image
      src={competitionUI}
      alt={content?.hero?.altHero}
      class="pt-8"
    />
  </div>

  <!-- RESEARCH -->
  <div class="flex flex-col gap-2 px-6">
    <h3 class="text-[#eee] font-semibold text-xl">{content?.researchAndLearnings?.title}</h3>
    <p class="text-[#959595] text-lg font-light">{content?.researchAndLearnings?.text}</p>
    <ul class="text-[#959595] text-lg font-light">
      {content.researchAndLearnings.items.map((item, index) => (
        <li>
          <span class="text-[#eee]">{item.label}</span> {item.text}
        </li>
      ))}
    </ul>
  </div>

  <!-- IDEA -->
  <div class="flex flex-col gap-2 px-6 items-center overflow-hidden w-full">
    <h3 class="text-[#eee] font-semibold text-xl w-full">{content?.theIdea?.title}</h3>
    <p class="text-[#959595] text-lg font-light">{content.theIdea.text}</p>
    <Image
      src={renderLogin}
      alt={content.hero.altHero}
      class="min-w-[800px]"
    />
  </div>

  <!-- SOLUTION -->
  <div class="flex flex-col gap-3 w-full">
    <h3 class="text-[#eee] font-semibold text-xl px-6">{content.designSolution.title}</h3>
    <ManualSlider
      features={[
        {
          image: basicModeFeature3,
          description: content.designSolution.features[0],
        },
        {
          image: advanceModeFeature1,
          description: content.designSolution.features[1],
        },
        {
          image: basicModeFeature2,
          description: content.designSolution.features[2],
        },
        {
          image: basicModeFeature1,
          description: content.designSolution.features[3],
        },
        {
          image: advanceModeFeature2,
          description: content.designSolution.features[4],
        },
      ]}
    />
  </div>

  <!-- IMPACT -->
  <div class="flex flex-col gap-3 px-10 w-full">
    <h3 class="text-[#eee] font-semibold text-xl">{content.expectedImpact.title}</h3>
    <ul class="text-[#959595] text-lg font-light flex flex-col gap-4">
      <div class="flex gap-4">
        <li class="flex flex-1 flex-col gap-2 text-center items-center text-sm bg-[#151515] py-8 px-4 rounded-xl">
          <span class="text-[#ddd] text-5xl font-regular">{content.expectedImpact.items[0].value}</span>
          {content.expectedImpact.items[0].description}
        </li>
        <li class="flex flex-1 flex-col gap-2 text-center items-center text-sm bg-[#151515] py-8 px-4 rounded-xl">
          <span class="text-[#ddd] text-5xl font-regular">{content.expectedImpact.items[1].value}</span>
          {content.expectedImpact.items[1].description}
        </li>
      </div>
      <li class="flex flex-col gap-2 text-center items-center text-sm bg-[#151515] py-8 px-4 rounded-xl">
        <span class="text-[#ddd] text-5xl font-regular">{content.expectedImpact.items[2].value}</span>
        {content.expectedImpact.items[2].description}
      </li>
      <div class="flex gap-4">
        <li class="flex flex-1 flex-col gap-2 text-center items-center text-sm bg-[#151515] py-8 px-4 rounded-xl">
          <span class="text-[#ddd] text-5xl font-regular">{content.expectedImpact.items[3].value}</span>
          {content.expectedImpact.items[3].description}
        </li>
        <li class="flex flex-1 flex-col gap-2 text-center items-center text-sm bg-[#151515] py-8 px-4 rounded-xl">
          <span class="text-[#ddd] text-5xl font-regular">{content.expectedImpact.items[4].value}</span>
          {content.expectedImpact.items[4].description}
        </li>
      </div>
    </ul>
  </div>

  <!-- LEARNINGS -->
  <div class="flex flex-col gap-2 px-10 w-full">
    <h3 class="text-[#eee] font-semibold text-xl">{content.learnings.title}</h3>
    <ul class="text-[#959595] text-lg font-light flex flex-col gap-1">
      {content.learnings.items.map((item, index) => (
        <li class="flex gap-2"><div class="pt-1.5"><CheckIcon /></div>{item}</li>
      ))}
    </ul>
  </div>

  <!-- CTA -->
  <CtaButton
    text={content.cta.text}
    ariaLabel={content.cta.ariaLabel}
    color="#0075C8"
    icon={RocketIcon}
  />
</main>
